#!/bin/bash

# getTargetServer
#
# retrieves details about a Target Server
#
# usage:
#   getTargetServer environment 

#set -e

USAGE="target_server_name"
TOOLSDIR="${APITOOLS_HOME}"
. "$TOOLSDIR/lib/functions"
parseCommandline "$@"
checkArgs 1

debug "OPTs[@]=${OPTS[@]}; ARGS[@]=${ARGS[@]}; ARGS[0]=${ARGS[0]}"

TS_NAME="${ARGS[0]}"
debug "VH_NAME=${TS_NAME}; ARGS=${ARGS}; \$\@=$@"

URL="${MOST}/o/${ORGANIZATION}/e/${ENVIRONMENT}/targetservers/${TS_NAME}"

debug "URL= $URL"
http_get "$URL"

echo "RESPONSE= $RESPONSE"
echo "STATUS_CODE= ${STATUS_CODE}"

# for a in $RESPONSE ; do printf "%b\n" $a | sed -e 's/[",\[]//g' -e 's/\]//g' ; done
