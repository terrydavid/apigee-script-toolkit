#!/bin/bash

# getCache
#
# retrieves the specified cache
#
# usage:
#   getCache environment cache_name

#set -e

USAGE="cache_name"
TOOLSDIR="${APITOOLS_HOME}"
. "$TOOLSDIR/lib/functions"
parseCommandline "$@"
checkArgs 2

cache_name="${ARGS[0]}"

#URL="${APIGEE_HOST}/o/${ORGANIZATION}/e/${ENVIRONMENT}/caches/$(uri_escape "$cache_name")/entries"
#URL="${APIGEE_HOST}/o/${ORGANIZATION}/e/${ENVIRONMENT}/caches/$(uri_escape "$cache_name")/entries"
#URL="${APIGEE_HOST}/o/${ORGANIZATION}/e/${ENVIRONMENT}/caches/$(uri_escape "$cache_name")"
URL="${APIGEE_HOST}/o/${ORGANIZATION}/e/${ENVIRONMENT}/caches/$(uri_escape "$cache_name")"

http_get $URL

echo $RESPONSE